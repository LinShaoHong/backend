{
  "source": "www.mmmjpg.com",
  "process": {
    "baseUrl": "http://www.mmmjpg.com",
    "paging": {
      "param": "/home/%s",
      "start": 0,
      "end": 5,
      "exclusive": true,
      "total": "replace(//div[@class='page']/em[@class='info']/text(), '共(\\d+)页', '$1')"
    },
    "xpath": "//div[@class='pic']/ul/li",
    "type": "list",
    "indexes": [
      0,
      1,
      2,
      3,
      4,
      5
    ],
    "fields": [
      {
        "name": "source",
        "type": "text",
        "value": "www.mmmjpg.com"
      },
      {
        "name": "type",
        "type": "text",
        "value": "meizi"
      },
      {
        "name": "category",
        "type": "text",
        "xpath": {
          "path": "./span/a/text()",
          "script": "if($value.indexOf('丝') > -1 || $value.indexOf('袜') > -1 || $value.indexOf('腿') > -1) {'siwa';} else if($value.indexOf('青春') > -1 || $value.indexOf('清纯') > -1) {'young';} else if($value.indexOf('萝莉') > -1) {'luoli';} else {'other';}"
        }
      },
      {
        "name": "title",
        "type": "text",
        "xpath": "./span/a/text()",
        "subXpath": true
      },
      {
        "name": "originalUrl",
        "type": "text",
        "xpath": "./a/img/@src"
      },
      {
        "name": "details",
        "type": "$sub",
        "subType": "href",
        "xpath": "concat('http://www.mmmjpg.com',./span[1]/a/@href)",
        "subProcess": {
          "type": "single",
          "paging": {
            "param": "/%s",
            "start": 1,
            "end": 10,
            "exclusive": false,
            "total": "//div[@class='page']/a[last()-1]/text()"
          },
          "fields": [
            {
              "name": "originalUrl",
              "type": "text",
              "xpath": "//div[@id='content']/a/img/@src"
            },
            {
              "name": "tags",
              "type": "text",
              "parent": true,
              "xpath": "string-join(//div[@class='tags']/a/text(), '|')"
            }
          ]
        }
      }
    ]
  }
}
